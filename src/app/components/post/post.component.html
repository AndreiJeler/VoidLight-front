<div class="post">
  <div *ngIf="post.isShared" class="post__pre">
    <img (click)="openProfile(post.userId)" class="post__pre__img" [src]="post.avatarPath">
    <p (click)="openProfile(post.userId)" class="post__pre__text">{{post.username}} shared this post</p>
  </div>
  <div class="post__header">
    <div class="post__header__user">
      <div class="post__header__user__photo">
        <img (click)="openProfile(post.originalUserId)" [src]="post.originalUserAvatar" alt="profile picture" />
      </div>
      <div class="post__header__user__text">
        <p (click)="openProfile(post.originalUserId)" class="post__header__user__text__username paragraph">{{post.originalUser}}</p>
        <p class="post__header__user__text__timestamp paragraph">{{timeString}}</p>
      </div>
    </div>
  </div>
  <div class="post__body">
    <div class="post__body__content" *ngIf="post.contents">
      <p class="post__body__content__text paragraph">{{post.text}}</p>
      <img *ngFor="let content of images" [src]="content" alt="Post Image" class="post__body__content__image">
      <video *ngFor="let content of videos" [src]="content" alt="Post Image" class="post__body__content__image"
        controls=true> </video>
    </div>
  </div>
  <div class="post__footer">
    <button class="btn btn-flip" id="btn-flip" (click)="likeAction()">
          {{post.likes}}
        <span class="heart" >
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
        [ngStyle]="{'fill': isLiked ? 'red' : 'black'}">
        <path d="M12 4.419c-2.826-5.695-11.999-4.064-11.999 3.27 0 7.27 9.903 10.938 11.999
          15.311 2.096-4.373 12-8.041 12-15.311 0-7.327-9.17-8.972-12-3.27z"/></svg></span>
    </button>
    <button class="btn btn-flip" (click)="viewComments()">Comment</button>
    <button class="btn btn-flip" (click)="share()">Share</button>
  </div>
  <div *ngIf="areCommentsVisible" class="post__comments">
    <div class="wrapper__input">
      <input type="text" class="wrapper__input__text" [(ngModel)]="commentText">
      <button class="btn" (click)="comment()">Add Comment</button>
    </div>
    <ul>
      <li *ngFor="let comment of post.comments" class="post__comments__item">
        <img [src]="comment.user.avatarPath" alt="image user" class="post__comments__item__picture" />
        <div class="wrapper">
          <strong class="post__comments__item__username">{{comment.user.username}}</strong>
          <p class="post__comments__item__message">{{comment.commentText}}</p>
        </div>

      </li>
    </ul>
  </div>

</div>
